<!DOCTYPE html>
<html>
<head>
    <title>Zero Electricity Bill - Odisha Solar Calculator</title>
    <style>
        body {
            font-family: Arial;
            background: #f0fff0;
            padding: 20px;
        }
        h2 {
            color: #2e8b57;
        }
        input, button {
            padding: 10px;
            margin: 8px 0;
            width: 300px;
            font-size: 16px;
        }
        .result {
            margin-top: 20px;
            font-weight: bold;
            background: #dff0d8;
            padding: 10px;
            border-radius: 5px;
        }
        table {
            margin-top: 10px;
            border-collapse: collapse;
            width: 100%;
            background: #fff;
        }
        th, td {
            border: 1px solid #2e8b57;
            padding: 8px 12px;
            text-align: left;
        }
        th {
            background: #e6ffe6;
        }
        .whatsapp {
            background: #25d366;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 14px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<h2>ðŸ’¡ Odisha Solar Savings Calculator</h2>

<label>Enter Your Monthly Electricity Bill Amount (â‚¹):</label><br>
<input type="number" id="monthlyBill" placeholder="e.g. 1500"><br>

<button onclick="calculateSolar()">Calculate Solar Requirement</button>

<div class="result" id="resultDiv"></div>
<button id="waButton" class="whatsapp" style="display:none;" onclick="shareWhatsapp()">Share on WhatsApp</button>

<script>
function calculateSolar() {
    const monthlyBill = parseFloat(document.getElementById('monthlyBill').value);
    if (isNaN(monthlyBill) || monthlyBill <= 0) {
        alert("Please enter a valid amount for your bill.");
        document.getElementById('resultDiv').innerHTML = '';
        document.getElementById('waButton').style.display = 'none';
        return;
    }

    const costPerUnit = 6; // â‚¹ per kWh in Odisha
    const dailyGenPerKW = 3.5; // Odisha avg solar gen per kW/day
    const monthlyGenPerKW = dailyGenPerKW * 30; // â‰ˆ135 units/month

    const estimatedUnits = monthlyBill / costPerUnit;
    const requiredKW = (estimatedUnits / monthlyGenPerKW);
    const minCostPerKW = 65000;
    const maxCostPerKW = 75000;

    const minTotal = requiredKW * minCostPerKW;
    const maxTotal = requiredKW * maxCostPerKW;
    const monthlyGen = monthlyGenPerKW * requiredKW;

    // Table format for results
    document.getElementById('resultDiv').innerHTML = `
        <table>
            <tr><th>Parameter</th><th>Value</th></tr>
            <tr><td>Monthly Bill (â‚¹)</td><td>â‚¹${monthlyBill.toFixed(2)}</td></tr>
            <tr><td>Estimated Monthly Usage (units)</td><td>${estimatedUnits.toFixed(0)}</td></tr>
            <tr><td>Required Solar System Size (kW)</td><td>${requiredKW.toFixed(2)} kW</td></tr>
            <tr><td>Approx. Installation Cost (â‚¹)</td><td>â‚¹${minTotal.toFixed(0)} - â‚¹${maxTotal.toFixed(0)}</td></tr>
            <tr><td>Estimated Solar Generation (units/month)</td><td>${monthlyGen.toFixed(0)}</td></tr>
        </table>
    `;

    // Store the message for WhatsApp sharing
    window.waMessage = 
        `Odisha Solar Savings Calculator Results:%0A` +
        `Monthly Bill: â‚¹${monthlyBill.toFixed(2)}%0A` +
        `Estimated Usage: ${estimatedUnits.toFixed(0)} units%0A` +
        `Required Solar System: ${requiredKW.toFixed(2)} kW%0A` +
        `Installation Cost: â‚¹${minTotal.toFixed(0)} - â‚¹${maxTotal.toFixed(0)}%0A` +
        `Estimated Generation: ${monthlyGen.toFixed(0)} units/month`;

    document.getElementById('waButton').style.display = 'inline-block';
}

function shareWhatsapp() {
    const url = "https://wa.me/?text=" + window.waMessage;
    window.open(url, "_blank");
}
</script>

</body>
</html>
